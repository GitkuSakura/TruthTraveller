# TruthTraveller（真理旅人）

## 项目简介

**TruthTraveller（真理旅人）** 是一款基于 Java Swing 的 2D 像素风冒险 RPG 游戏，支持地图编辑器、存档加密、丰富的交互与战斗系统。玩家可在不同地图中探索、与 NPC 互动、挑战怪物、收集物品并体验昼夜变化。

## 主要功能
- 2D 像素风格冒险与探索
- 多地图系统与灵活切换
- 怪物 AI、A* 寻路与击退机制
- 剑与剑气战斗系统
- NPC 对话与交易系统
- 物品、宝箱、钥匙、门等丰富交互
- 昼夜循环与天气特效
- 存档加密与读取
- 内置地图编辑器，支持自定义地图
- 丰富的音效与 UI 界面

## 目录结构
```
main/
  ├── src/
  │   ├── main/         # 游戏主逻辑、面板、资源加载、存档等
  │   ├── entity/       # 玩家、怪物、NPC、物品等实体类
  │   ├── object/       # 游戏对象（宝箱、门、药水、剑、盾等）
  │   ├── tile/         # 地图瓦片与管理
  │   ├── mapeditor/    # 地图编辑器相关
  │   ├── res/          # 资源文件（图片、音效、地图等）
  │   └── META-INF/     # 清单文件
  ├── *.md              # 系统说明文档
  ├── savegame.dat      # 存档文件
  └── ...
```

## 运行方法
1. **编译项目**：
   - 使用 IDEA、Eclipse 或命令行 `javac` 编译 `src` 目录下所有 Java 文件。
2. **启动游戏**：
   - 运行 `main.Main` 类（主方法入口）。
   - 游戏窗口将自动弹出。
3. **启动地图编辑器**：
   - 运行 `mapeditor.MapEditor` 类。
   - 可自定义地图并保存到 `src/res/maps/` 目录。

## 操作说明
- **移动**：WASD 或方向键
- **互动/对话/拾取**：F 或 Enter
- **角色信息/背包**：Q
- **保存游戏**：F5
- **暂停/菜单**：ESC
- **发射剑气**：E
- **聊天栏**：T
- **全屏切换**：F11

## 地图编辑器
- 运行 `mapeditor.MapEditor`，可视化编辑地图。
- 支持新建、打开、保存地图（txt 格式）。
- 右键可显示瓦片坐标，左键绘制瓦片。
- 右侧为瓦片选择栏。
- 保存的地图文件放在 `src/res/maps/` 下。

## 存档与加密
- 存档文件为 `savegame.dat`，自动加密（XOR+Base64），防止篡改。
- 存档内容包括玩家属性、地图、背包等。
- 加密逻辑见 `main/SaveEncryptor.java`。

## 资源说明
- 图片、音效、地图等资源位于 `src/res/` 目录下：
  - `maps/` 地图文件
  - `tiles/` 地图瓦片
  - `objects/` 游戏对象图片
  - `sound/` 音效文件（支持 wav/mp3）
  - `npc/` NPC 图片
  - `player/` 玩家图片
  - `monster/` 怪物图片
  - `font/` 字体资源

## 依赖环境
- JDK 8 及以上
- Java Swing（无需额外依赖）

## 致谢
- 项目作者：MikuSakura
- 参考与素材来源：开源社区、网络资源
- 特别感谢所有参与测试和建议的朋友！

---

如需详细开发文档、功能说明或二次开发指导，请查阅项目内各类 `*.md` 说明文件。 
